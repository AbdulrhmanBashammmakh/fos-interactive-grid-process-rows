var FOS=window.FOS||{};FOS.interactiveGrid=FOS.interactiveGrid||{},FOS.interactiveGrid.processRows=function(e,t,r){var s,a="FOS - Interactive Grid - Process Rows";apex.debug.info(a,t),s={dismiss:["onClick","onButton"],dismissAfter:null,newestOnTop:!0,preventDuplicates:!0,escapeHtml:!1,position:"top-right",iconClass:null,clearAll:!1},r instanceof Function&&(fostr=fostr||{},r.call(e,t,s));var i,n,o=e.action.affectedRegionId,l=t.ajaxId,c=apex.region(o);if(!c||"InteractiveGrid"!=c.type)throw new Error('The affected element of plug-in "'+a+'" must be an Interactive Grid region.');if("selection"==t.mode){var u=c.call("getSelectedRecords");if(t.refreshSelection&&(n=u),0==u.length){apex.debug.info("No selected records. Continuing without server call.");return void apex.da.resume(e.resumeCallback,!1)}var p=c.call("getViews","grid").model,d={recordKeys:u.map((function(e){return p._getPrimaryKey(e)}))};i=apex.server.chunk(JSON.stringify(d))}apex.server.plugin(l,{f01:i,pageItems:t.itemsToSubmit}).done((function(r){var a=!1,i=r.message,o=r.messageTitle,l=r.messageType&&["info","warning","success","error","danger"].includes(r.messageType)?r.messageType:"success";if(l="danger"===l?"error":l,a=!!r.cancelActions,o&&t.performSubstitutions&&(o=apex.util.applyTemplate(o,{defaultEscapeFilter:null})),i&&t.performSubstitutions&&(i=apex.util.applyTemplate(i,{defaultEscapeFilter:null})),o&&t.escapeMessage&&(o=apex.util.escapeHTML(o)),i&&t.escapeMessage&&(i=apex.util.escapeHTML(i)),"success"==r.status){if(r.itemsToReturn)for(var u=0;u<r.itemsToReturn.length;u++)apex.item(r.itemsToReturn[u].name).setValue(r.itemsToReturn[u].value);t.refreshSelection&&c.call("getViews","grid").model.fetchRecords(n),t.refreshGrid&&c.refresh(),i&&($.extend(s,{message:o?i:void 0,title:o||i,type:l}),fostr[l](s))}else a=!0,i&&($.extend(s,{message:o?i:void 0,title:o||i,type:"error"}),fostr.error(s));r.eventName&&apex.event.trigger("body",r.eventName,r),apex.da.resume(e.resumeCallback,a)})).fail((function(t,r,s){apex.da.handleAjaxErrors(t,r,s,e.resumeCallback)}))};
//# sourceMappingURL=script.js.map

